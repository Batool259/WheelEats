{% extends "base.html" %}

{% block content %}
<section class="hero">
    <h2>Finde dein barrierefreies Restaurant in Berlin</h2>
    <p>Suche nach Name, Adresse oder KÃ¼che und filtere nach Stadtteil und Barrierefreiheitsmerkmalen.</p>
</section>

<section class="filters">
    <form method="get" class="filter-form">
        <div class="filter-group">
            <label for="q">Suche</label>
            <input
                type="text"
                id="q"
                name="q"
                value="{{ q }}"
                placeholder="Restaurant, Adresse oder KÃ¼che">
        </div>

        <div class="filter-group">
            <label for="district">Stadtteil</label>
            <select id="district" name="district">
                <option value="">Alle Stadtteile</option>
                {% for d in districts %}
                    <option value="{{ d }}" {% if d == district %}selected{% endif %}>{{ d }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="filter-group">
            <label for="feature">Barrierefreiheit</label>
            <select id="feature" name="feature">
                <option value="">Alle Merkmale</option>
                <option value="step_free" {% if feature == "step_free" %}selected{% endif %}>Stufenloser Eingang</option>
                <option value="toilet" {% if feature == "toilet" %}selected{% endif %}>Barrierefreies WC</option>
                <option value="spacious" {% if feature == "spacious" %}selected{% endif %}>GerÃ¤umiger Innenraum</option>
            </select>
        </div>

        <button type="submit" class="primary-btn">Filter anwenden</button>
    </form>
</section>

<section>
    <h3>Passende Restaurants ({{ restaurants|length }})</h3>

    {% if restaurants %}
        <ul class="restaurant-list">
            {% for r in restaurants %}
                <li class="restaurant-card">
                    <h4>{{ r.name }}</h4>
                    <p class="address">{{ r.address }}</p>
                    <p class="meta">{{ r.district }} Â· {{ r.cuisine }}</p>

                    <p class="features">
                        {% if "step_free" in r.features %}
                            ğŸ§‘â€ğŸ¦½ Stufenloser Eingang
                        {% endif %}
                        {% if "toilet" in r.features %}
                            Â· ğŸš» Barrierefreies WC
                        {% endif %}
                        {% if "spacious" in r.features %}
                            Â· ğŸ“ GerÃ¤umiger Innenraum
                        {% endif %}
                    </p>

                    <button class="secondary-btn">Details ansehen</button>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>Keine Restaurants gefunden. Bitte Filter anpassen.</p>
    {% endif %}
</section>
{% endblock %}
